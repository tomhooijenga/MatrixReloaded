{% extends 'template.html' %}

{% load static from staticfiles %}

{% block table %}
    <!--Table headers-->
    <thead>
    <tr>
        <th>Name</th>
        <th>Edit</th>
    </tr>
    </thead>
{% endblock table %}

{% block card %}
    <form id="parent-form" class="form-horizontal url" data-autofill="action">
        <fieldset>
            <legend>Category</legend>
            <div class="form-group">
                <label for="name" class="control-label col-xs-2">
                    <i class="fa fa-fw fa-angle-right"></i>
                </label>
                <div class="col-xs-10">
                    <input id="name" type="text" class="form-control" name="name" placeholder="Name" maxlength="100"
                           title="Category name"
                           required/>
                </div>
            </div>

            <div class="form-group">
                <label for="short-name" class="control-label col-xs-2">
                    <i class="fa fa-fw fa-tag"></i>
                </label>
                <div class="col-xs-10">
                    <input id="short-name" type="text" class="form-control" name="short-name" placeholder="Abbreviation"
                           title="Category name abbreviation"
                           maxlength="5" required/>
                </div>
            </div>
        </fieldset>
        <div class="form-group">
            <div class="col-xs-10 col-xs-offset-2 text-center">
                <button type="submit" class="btn btn-default pull-right">
                    Submit
                </button>
            </div>
        </div>
    </form>

    <form id="child-form" class="form-horizontal" action="/api/categories/" method="post">
        <fieldset>
            <legend>Add child category</legend>
            <input type="hidden" name="parent"/>
            <div class="form-group">
                <label for="name" class="control-label col-xs-2">
                    <i class="fa fa-fw fa-angle-right"></i>
                </label>
                <div class="col-xs-10">
                    <input id="name" type="text" class="form-control" name="name" placeholder="Name" maxlength="100"
                           title="Child category name"
                           required/>
                </div>
            </div>
            <div class="form-group">
                <label for="short-name" class="control-label col-xs-2">
                    <i class="fa fa-fw fa-tag"></i>
                </label>
                <div class="col-xs-10">
                    <input id="short-name" type="text" class="form-control" name="short-name" placeholder="Abbreviation"
                           title="Child category name abbreviation"
                           maxlength="5" required/>
                </div>
            </div>
        </fieldset>
        <div class="form-group">
            <div class="col-xs-10 col-xs-offset-2 text-center">
                <button type="submit" class="btn btn-default pull-right">
                    Submit
                </button>
            </div>
        </div>
    </form>

    <h2 class="legend">Child categories</h2>
    <div id="child-categories" class="form-list">
    </div>
{% endblock card %}

{% block javascript %}
    {{ block.super }}
    <script src="{% static 'backend/js/categories.js' %}"></script>

    <script type="text/html" id="category-template">
        <form class="form-horizontal url" data-autofill="action" method="post" data-method="patch">
            <div class="form-group">
                <label class="control-label col-xs-2">
                    <i class="fa fa-fw fa-angle-double-right"></i>
                </label>
                <div class="col-xs-10">
                    <input type="text" class="form-control" name="name" placeholder="Name" maxlength="100"
                           title="Child category name"
                           required/>
                </div>
            </div>
            <div class="form-group">
                <label for="short-name" class="control-label col-xs-2">
                    <i class="fa fa-fw fa-tag"></i>
                </label>
                <div class="col-xs-10">
                    <input id="short-name" type="text" class="form-control" name="short-name" placeholder="Abbreviation"
                           title="Child category name abbreviation"
                           maxlength="5" required/>
                </div>
            </div>
            <div class="form-group">
                <div class="col-xs-10 col-xs-offset-2 text-center">
                    <button type="button" class="btn btn-danger pull-left">
                        <i class="fa fa-fw fa-times"></i>
                    </button>

                    <span class="products"></span>

                    <button type="submit" class="btn btn-default pull-right">
                        Submit
                    </button>
                </div>
            </div>
        </form>
    </script>
{% endblock javascript %}